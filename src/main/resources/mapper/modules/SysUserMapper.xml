<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.base.modules.sys.mapper.SysUserMapper">
    <sql id="selectColumn">
        id,
        user_name,
        user_no,
        user_gender,
        org_id,
        create_date,
        create_date,
        del_flag,
        remarks
    </sql>

    <select id="queryAllUserByPage" resultType="com.base.modules.sys.entity.SysUserEntity">
        SELECT <include refid="selectColumn"/> FROM sys_user su
        <where>
            su.del_flag = '0'
            <if test="params.userName != null and params.userName.trim() != ''">
                AND su.user_name LIKE CONCAT('%', #{params.userName}, '%')
            </if>
            <if test="params.userGender != null and params.userGender.trim() != ''">
                AND su.user_gender = #{params.userGender}
            </if>
        </where>
    </select>
</mapper>